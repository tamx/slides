---
marp: true
paginate: true
---
# JavaScript 入門講座

JavaScript 第４回 / 全６回

<!-- 
$theme: gaia
template: invert
-->

<!-- footer: JavaScript 入門講座 第４回 -->

---
## JavaScript から HTML の書き換え（準備）

- HTML の書き換えたいタグに `id="hello"` を書き込みます。

~~~sample0401.html
<html>
<body>
    <h1 id="hello">Hello World</h1>
</body>
    <script type="text/javascript" src="sample0401.js"></script>
</html>
~~~

※第３回の HTML と、 `<script>` タグの位置を変えてあります。

---
## JavaScript から HTML の書き換え

以下の JavaScript により、 "Hello World" の文字が "Good Morning" に書き換わります。

~~~sample0401.js
const element = document.getElementById('hello');
element.innerText = "Good Morning";
~~~

---
## 練習

1. setTimeout 関数を利用して、 5秒後に文字が書き換わるようにしてみましょう。
1. 余力があれば、 5秒ごとに "Hello World" と "Good Morning" の表示が入れ替わるようにしてみましょう。

setTimeout 関数の使い方：

ほぼ setInterval と同じです。ただし、関数は１回しか呼ばれません。

~~~
function display() {
    const element = document.getElementById('hello');
    element.innerText = "Good Morning";
}

setTimeout(display, 1000);
~~~

---
## HTML の挿入

以下のようにすると、 HTML タグも差し込むことが出来ます。

~~~sample0402.js
const element = document.getElementById('hello');
element.innerHTML = '<FONT COLOR="#FF0000">Good Morning</FONT>';
~~~

※タグを文字列で書き換えるよりも効率の良い方法があります。

---
## 木構造

- 根から葉へと木が先端に行くまでの経路と似ているので、以下のようなデータ構造を「木構造」と言います。
- HTML は木構造。

~~~
html
├ head
└ body
　　└ h1
　　　　└ "Hello World"
~~~

---
## DOM(Document Of Model)

HTML が木構造で表されているという性質を使い、 JavaScript から HTML を操作できる DOM という便利な概念があります。

- document.body で HTML の BODY タグが取れます。
- このタグに innerHTML でタグを書き込めば、何でも出来ます。

~~~
document.body.innerHTML = '<h1>Good Evening</h1>';
~~~

- 書き込みにも DOM を使うと、より便利に HTML 構造が書けます。

---
## DOM サンプル

以下の JavaScript で、 IMG タグの src 属性のみを書き換えることが出来ます。

~~~sample0403.html
<html>
<body>
    <img id="dog" src="https://x.gd/9Uow0"></img>
</body>
<script type="text/javascript" src="sample0403.js"></script>
</html>
~~~

~~~sample0403.js
const element = document.getElementById('dog');
element.setAttribute('src', 'https://x.gd/LLx5A');
~~~

---
## ファイルの中身

~~~
00000000  3c 68 74 6d 6c 3e 0a 0a  3c 62 6f 64 79 3e 0a 20  |<html>..<body>. |
00000010  20 20 20 3c 69 6d 67 20  69 64 3d 22 64 6f 67 22  |   <img id="dog"|
00000020  20 73 72 63 3d 22 68 74  74 70 73 3a 2f 2f 78 2e  | src="https://x.|
00000030  67 64 2f 39 55 6f 77 30  22 3e 3c 2f 69 6d 67 3e  |gd/9Uow0"></img>|
00000040  0a 3c 2f 62 6f 64 79 3e  0a 3c 73 63 72 69 70 74  |.</body>.<script|
00000050  20 74 79 70 65 3d 22 74  65 78 74 2f 6a 61 76 61  | type="text/java|
00000060  73 63 72 69 70 74 22 20  73 72 63 3d 22 73 61 6d  |script" src="sam|
00000070  70 6c 65 30 34 30 31 2e  6a 73 22 3e 3c 2f 73 63  |ple0401.js"></sc|
00000080  72 69 70 74 3e 0a 0a 3c  2f 68 74 6d 6c 3e        |ript>..</html>|
~~~

---
## BOM(Byte Order Mark)

- （だいぶ統一されてきたが）漢字の表現方法にはいくつか種類がある。
- どの表現方法で漢字などが表現されているかを示すためのマークを BOM と言う。

例：

~~~
UTF-8		    0xEF 0xBB 0xBF
UTF-16  BE  	0xFE 0xFF
        LE  	0xFF 0xFE
UTF-32	BE  	0x00 0x00 0xFE 0xFF
        LE  	0xFF 0xFE 0x00 0x00
~~~

- 付けても付けなくても構わないが、付けたほうが文字コードがはっきり分かる。
- 付けてないと読めないソフト、付けてると読めないソフトなどがあるので、読み込ませたいソフトに合わせてコードを書く必要がある。

---
## 外部ファイル
